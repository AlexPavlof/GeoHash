window.geohash=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});for(var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=r.BASE32_CODES="0123456789bcdefghjkmnpqrstuvwxyz",u=r.BASE32_CODES_DICT={},i=r.ENCODE_AUTO="auto",a=0;a<o.length;a+=1)u[o.charAt(a)]=a;var d=r.SIGFIG_HASH_LENGTH=[0,5,7,8,11,12,13,15,16,17,18],l=r.getBit=function(e,r){return e/Math.pow(2,r)&1},c=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getKeyLength",value:function(e){return e>=17?8:e>=15&&e<17?7:e>=13&&e<15?6:e>=11&&e<13?5:e>=8&&e<11?4:e>=6&&e<8?3:e>=3&&e<6?2:1}},{key:"encode",value:function(e,r,t){if(t===i){if("number"==typeof e||"number"==typeof r)throw new Error("string notation required for auto precision.");var n=e.split(".")[1].length,u=r.split(".")[1].length,a=Math.max(n,u);t=d[a]}else void 0===t&&(t=9);r=parseFloat(r),e=parseFloat(e),t=parseInt(t,10);for(var l=[],c=0,f=0,v=0,g=90,s=-90,b=180,h=-180,p=void 0;l.length<t;)if(f%2==0?r>(p=(b+h)/2)?(v=1+(v<<1),h=p):(v=0+(v<<1),b=p):e>(p=(g+s)/2)?(v=1+(v<<1),s=p):(v=0+(v<<1),g=p),f+=1,5===(c+=1)){var y=o[v];l.push(y),c=0,v=0}return l.join("")}},{key:"encodeInt",value:function(e,r,t){t=t||52;for(var n=0,o=90,u=-90,i=180,a=-180,d=void 0,l=0;n<t;)l*=2,n%2==0?r>(d=(i+a)/2)?(l+=1,a=d):i=d:e>(d=(o+u)/2)?(l+=1,u=d):o=d,n+=1;return l}},{key:"decodeBbox",value:function(e){for(var r=!0,t=90,n=-90,o=180,i=-180,a=void 0,d=0,l=0,c=e.length;l<c;l+=1){var f=e[l].toLowerCase();d=u[f];for(var v=4;v>=0;v-=1){var g=d>>v&1;r?(a=(o+i)/2,1===g?i=a:o=a):(a=(t+n)/2,1===g?n=a:t=a),r=!r}}return[n,i,t,o]}},{key:"decodeBboxInt",value:function(e,r){for(var t=90,n=-90,o=180,u=-180,i=0,a=(r=r||52)/2,d=0;d<a;d+=1)i=l(e,2*(a-d)-1),0===l(e,2*(a-d)-2)?t=(t+n)/2:n=(t+n)/2,0===i?o=(o+u)/2:u=(o+u)/2;return[n,u,t,o]}},{key:"decode",value:function(r){var t=e.decodeBbox(r),n=(t[0]+t[2])/2,o=(t[1]+t[3])/2;return{latitude:n,longitude:o,error:{latitude:t[2]-n,longitude:t[3]-o}}}},{key:"decodeInt",value:function(r,t){var n=e.decodeBboxInt(r,t),o=(n[0]+n[2])/2,u=(n[1]+n[3])/2;return{latitude:o,longitude:u,error:{latitude:n[2]-o,longitude:n[3]-u}}}},{key:"neighbor",value:function(r,t){var n=e.decode(r),o=n.latitude+t[0]*n.error.latitude*2,u=n.longitude+t[1]*n.error.longitude*2;return e.encode(o,u,r.length)}},{key:"neighborInt",value:function(r,t,n){n=n||52;var o=e.decodeInt(r,n),u=o.latitude+t[0]*o.error.latitude*2,i=o.longitude+t[1]*o.error.longitude*2;return e.encodeInt(u,i,n)}},{key:"neighbors",value:function(r){var t=r.length,n=e.decode(r),o=n.latitude,u=n.longitude,i=2*n.error.latitude,a=2*n.error.longitude,d=function(r,n){var d=o+r*i,l=u+n*a;return e.encode(d,l,t)};return[d(1,0),d(1,1),d(0,1),d(-1,1),d(-1,0),d(-1,-1),d(0,-1),d(1,-1)]}},{key:"neighborsInt",value:function(r,t){t=t||52;var n=e.decodeInt(r,t),o=n.latitude,u=n.longitude,i=2*n.error.latitude,a=2*n.error.longitude,d=function(r,n){var d=o+r*i,l=u+n*a;return e.encodeInt(d,l,t)};return[d(1,0),d(1,1),d(0,1),d(-1,1),d(-1,0),d(-1,-1),d(0,-1),d(1,-1)]}},{key:"bboxes",value:function(r,t,n,o,u){u=u||9;for(var i=e.encode(r,t,u),a=e.encode(n,o,u),d=e.decode(i),l=2*d.error.latitude,c=2*d.error.longitude,f=e.decodeBbox(i),v=e.decodeBbox(a),g=Math.round((v[0]-f[0])/l),s=Math.round((v[1]-f[1])/c),b=[],h=0;h<=g;h+=1)for(var p=0;p<=s;p+=1)b.push(e.neighbor(i,[h,p]));return b}},{key:"bboxesInt",value:function(r,t,n,o,u){u=u||52;for(var i=e.encodeInt(r,t,u),a=e.encodeInt(n,o,u),d=e.decodeInt(i,u),l=2*d.error.latitude,c=2*d.error.longitude,f=e.decodeBboxInt(i,u),v=e.decodeBboxInt(a,u),g=Math.round((v[0]-f[0])/l),s=Math.round((v[1]-f[1])/c),b=[],h=0;h<=g;h+=1)for(var p=0;p<=s;p+=1)b.push(e.neighborInt(i,[h,p],u));return b}}]),e}();r.default=c}]);